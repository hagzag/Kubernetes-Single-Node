# Internal DNS domain name.
# This domain must not be used in your network. Services will be discoverable
# under <service-name>.<namespace>.<domainname>, e.g.
# myservice.default.svc.cluster.local
dns_domain: "{{ cluster_name }}"

# IP address of the DNS server.
# Kubernetes will create a pod with several containers, serving as the DNS
# server and expose it under this IP address. The IP address must be from
# the range specified as kube_service_addresses. This magic will actually
# pick the 10th ip address in the kube_service_addresses range and use that.
dns_server: "{{ kube_service_addresses|ipaddr('net')|ipaddr(10)|ipaddr('address') }}"

kube_script_dir: "/opt/bin/kubernetes"

kube_config_dir: /etc/kubernetes
kube_addons_dir: "{{ kube_config_dir }}/addons"

kube_token_dir: "{{ kube_config_dir }}/tokens"

bin_dir: "/bin"

local_temp_addon_dir: /tmp/kubernetes/addons

metrics_memory_initial: 200
metrics_memory_per_node: 4
metrics_memory: "{{ metrics_memory_initial + (metrics_memory_per_node * (groups['nodes'] | count)) }}Mi"

eventer_memory_initial: 200
eventer_memory_per_node: 500
eventer_memory: "{{ eventer_memory_initial + (eventer_memory_per_node * (groups['nodes'] | count) / 1024) | round | int }}Mi"

grains: ""
